#!/bin/bash

# GitHub OAuth2 çœŸå®æˆæƒæ¼”ç¤ºè„šæœ¬

echo "ğŸš€ GitHub OAuth2 çœŸå®æˆæƒæ¼”ç¤º"
echo "=============================="
echo ""
echo "ğŸ“‹ å½“å‰æ‰§è¡ŒçŠ¶æ€:"
echo "   æ‰§è¡Œ ID: f51eb1be-4817-4633-a26f-e8e41c08e1c4"
echo "   çŠ¶æ€: paused (ç­‰å¾…ç”¨æˆ·æˆæƒ)"
echo ""
echo "ğŸ”— æˆæƒ URL:"
echo "https://github.com/login/oauth/authorize?response_type=code&client_id=Ov23lihVkExosE0hR0Bh&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Foauth%2Fcallback&scope=user%3Aemail&state=ECZvY2jGzKmwtWlW3ADzM1wI&code_challenge_method=S256&code_challenge=T_-XjiL0caNtD_vARbfxyC6PSA4dVvfjuMEN2Wp2rRw"
echo ""
echo "ğŸ“ æ“ä½œæ­¥éª¤:"
echo "   1. åœ¨æµè§ˆå™¨ä¸­è®¿é—®ä¸Šé¢çš„æˆæƒ URL"
echo "   2. ç™»å½•ä½ çš„ GitHub è´¦æˆ·"
echo "   3. æˆæƒåº”ç”¨è®¿é—®ä½ çš„è´¦æˆ·ä¿¡æ¯"
echo "   4. GitHub ä¼šé‡å®šå‘åˆ°: http://localhost:8080/oauth/callback?code=æˆæƒç &state=ECZvY2jGzKmwtWlW3ADzM1wI"
echo "   5. ä» URL ä¸­å¤åˆ¶æˆæƒç ï¼ˆcode å‚æ•°çš„å€¼ï¼‰"
echo ""
echo "ğŸ’¡ æ³¨æ„: ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ localhost:8080 ä½œä¸ºå›è°ƒ URLï¼Œ"
echo "   ä½ éœ€è¦ç¡®ä¿ openact æœåŠ¡å™¨æ­£åœ¨è¿è¡Œä»¥æ¥æ”¶å›è°ƒã€‚"
echo ""
echo "ğŸ”„ å½“ä½ è·å¾—æˆæƒç åï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ç»§ç»­æµç¨‹:"
echo "   curl -X POST \"http://localhost:8080/api/v1/executions/f51eb1be-4817-4633-a26f-e8e41c08e1c4/resume\" \\"
echo "     -H \"Content-Type: application/json\" \\"
echo "     -d '{\"input\": {\"code\": \"ä½ çš„æˆæƒç \"}}'"
echo ""
echo "ğŸ“Š ç„¶åæ£€æŸ¥æ‰§è¡ŒçŠ¶æ€:"
echo "   curl -s \"http://localhost:8080/api/v1/executions/f51eb1be-4817-4633-a26f-e8e41c08e1c4\" | jq '.status'"
echo ""
echo "ğŸ” æ£€æŸ¥æ•°æ®åº“ä¸­çš„è¿æ¥è®°å½•:"
echo "   curl -s \"http://localhost:8080/api/v1/connections?tenant=test-tenant&provider=github\" | jq '.'"
echo ""
echo "ğŸ¯ è¿™å°†å®Œæˆå®Œæ•´çš„ GitHub OAuth2 æµç¨‹ï¼ŒåŒ…æ‹¬:"
echo "   âœ“ ç”¨æˆ·æˆæƒ"
echo "   âœ“ æˆæƒç äº¤æ¢"
echo "   âœ“ ç”¨æˆ·ä¿¡æ¯è·å–"
echo "   âœ“ è¿æ¥ä¿¡æ¯æŒä¹…åŒ–åˆ°æ•°æ®åº“"
