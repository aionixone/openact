operationId: listItemsLink
method: GET
path: /p1
tags: [sample]

x-auth:
  connection_trn: "trn:authflow:tenant:connection/sample-user"
  scheme: oauth2
  injection:
    type: jsonada
    mapping: |
      {
        "headers": {
          "Authorization": "{% 'Bearer ' & $access_token %}"
        }
      }

x-timeout-ms: 4000
x-retry:
  max_retries: 2
  base_delay_ms: 300
  max_delay_ms: 3000
  retry_on: ["5xx", "429"]
  respect_retry_after: true

x-ok-path: "{% $status >= 200 and $status < 300 %}"
x-output-pick: "{% $body %}"

# Base URL to be set to your API root
x-base-url: "http://localhost:3000"
x-real-http: true

# Pagination via next link in body.next
x-pagination:
  mode: link
  limit: 5
  items_expr: "{% $body.items %}"
  link_expr: "{% $body.next %}"
